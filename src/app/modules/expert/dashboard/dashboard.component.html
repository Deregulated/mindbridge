<div class="expert-dashboard">
  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <div class="header-content">
      <h1>Expert Dashboard</h1>
      <p>Welcome back! Manage your sessions and track your performance.</p>
    </div>
    <div class="header-actions">
      <button routerLink="/expert/profile" class="btn btn-primary">
        Update Availability
      </button>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Loading your dashboard...</p>
  </div>

  <!-- Stats Grid -->
  <div *ngIf="!isLoading" class="stats-grid">
    <div *ngFor="let stat of stats" class="stat-card" [class]="'stat-' + stat.color">
      <div class="stat-icon">{{ stat.icon }}</div>
      <div class="stat-info">
        <h3>{{ stat.value }}</h3>
        <p>{{ stat.label }}</p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div *ngIf="!isLoading" class="dashboard-content">
    <!-- Upcoming Sessions -->
    <div class="content-section">
      <div class="section-header">
        <h2>Today's Sessions</h2>
        <a routerLink="/expert/profile" class="view-all">Set Availability</a>
      </div>

      <div *ngIf="!upcomingSessions?.length" class="empty-state">
        <div class="empty-icon"><i class="fas fa-calendar"></i></div>
        <h3>No Sessions Today</h3>
        <p>You don't have any sessions scheduled for today.</p>
        <button routerLink="/expert/profile" class="btn btn-primary">
          Update Availability
        </button>
      </div>

      <div *ngIf="upcomingSessions?.length" class="sessions-list">
        <div *ngFor="let session of upcomingSessions" class="session-card">
          <div class="session-info">
            <div class="session-header">
              <h4>{{ session.topic }}</h4>
              <span class="session-status" [class]="getSessionStatusClass(session.status)">
                {{ session.status }}
              </span>
            </div>
            <p class="session-client">with {{ session.clientName }}</p>
            <p class="session-date">
              {{ session.scheduledDate | date: 'MMM d, y, h:mm a' }}
            </p>
            <p class="session-duration">{{ session.duration }} minutes</p>
            <p *ngIf="session.notes" class="session-notes">{{ session.notes }}</p>
          </div>
          <div class="session-actions">
            <button (click)="startSession(session.id)" class="btn btn-primary">
              Start Session
            </button>
            <button class="btn btn-outline">
              Reschedule
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Sessions -->
    <div class="content-section">
      <div class="section-header">
        <h2>Recent Sessions</h2>
        <a class="view-all">View All</a>
      </div>

      <div *ngIf="!recentSessions?.length" class="empty-state">
        <div class="empty-icon"><i class="fas fa-edit"></i></div>
        <h3>No Recent Sessions</h3>
        <p>Your completed sessions will appear here.</p>
      </div>

      <div *ngIf="recentSessions?.length" class="sessions-list">
        <div *ngFor="let session of recentSessions" class="session-card">
          <div class="session-info">
            <div class="session-header">
              <h4>{{ session.topic }}</h4>
              <span class="session-status status-completed">
                {{ session.status }}
              </span>
            </div>
            <p class="session-client">with {{ session.clientName }}</p>
            <p class="session-date">
              {{ session.scheduledDate | date: 'MMM d, y' }}
            </p>
            <div *ngIf="session.rating" class="session-rating">
              <span class="rating-stars"><i class="fas fa-star"></i></span>
              <span class="rating-value">{{ session.rating }}/5</span>
            </div>
            <p *ngIf="session.feedback" class="session-feedback">
              “{{ session.feedback }}”
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Performance Overview -->
    <div class="content-section">
      <div class="section-header">
        <h2>Performance Overview</h2>
      </div>
      <div class="performance-stats">
        <div class="performance-item">
          <div class="performance-label">Average Rating</div>
          <div class="performance-value">{{ getAverageRating() }}/5</div>
          <div class="performance-bar">
            <div class="bar-fill" [style.width.%]="(getAverageRating() / 5) * 100"></div>
          </div>
        </div>
        <div class="performance-item">
          <div class="performance-label">Response Rate</div>
          <div class="performance-value">98%</div>
          <div class="performance-bar">
            <div class="bar-fill" style="width: 98%"></div>
          </div>
        </div>
        <div class="performance-item">
          <div class="performance-label">Completion Rate</div>
          <div class="performance-value">96%</div>
          <div class="performance-bar">
            <div class="bar-fill" style="width: 96%"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="content-section">
      <div class="section-header">
        <h2>Quick Actions</h2>
      </div>
      <div class="quick-actions">
        <button routerLink="/expert/profile" class="action-card">
          <div class="action-icon"><i class="fas fa-clock"></i></div>
          <h4>Set Availability</h4>
          <p>Manage your working hours and availability</p>
        </button>

        <button class="action-card">
          <div class="action-icon"><i class="fas fa-user"></i></div>
          <h4>Update Profile</h4>
          <p>Edit your expertise and qualifications</p>
        </button>

        <button class="action-card">
          <div class="action-icon"><i class="fas fa-chart-line"></i></div>
          <h4>View Analytics</h4>
          <p>See detailed performance metrics</p>
        </button>

        <button class="action-card">
          <div class="action-icon"><i class="fas fa-dollar-sign"></i></div>
          <h4>Earnings</h4>
          <p>Track your payments and revenue</p>
        </button>
      </div>
    </div>
  </div>
</div>
